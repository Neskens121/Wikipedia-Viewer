<!DOCTYPE html>
<html>
<head>
	<title>Wikipedia Viewer</title>
</head>

<body>
	<form id="searchForm" action="#">
		<input type="text" name="searchTerm" id="searchTerm">
		<input type="submit" style="position: absolute; left: -9999px"/>
	</form>
	<ul id="demo">
		
	</ul>
	<script>

		var list = document.getElementById('demo');
		var searchTermElement = document.getElementById('searchTerm');
		var searchForm = document.getElementById('searchForm');

		searchTermElement.addEventListener('keypress', function(evt){
			console.log(evt);
			if (evt.keyCode == 13 || evt.keyCode == 13) {
				console.log(evt);
				evt.preventDefault(); 
			} else {console.log(evt.keyCode);}
		}, false);

function fetchSearchResults(){
	fetch('https://en.wikipedia.org/w/api.php?action=query&format=json&prop=extracts&generator=search&exlimit=10&exsentences=6&exintro=1&explaintext=1&gsrsearch=' + searchTerm.innerText).then(function(response) {
		return response.json();
	}).then(function(response){
		var result = response['query']['pages'];
		console.log(result)
		Object.keys(result).forEach(function(item){
				//console.log(result[item]['extract'])
				var entry = document.createElement('li');
				entry.appendChild(document.createTextNode(result[item]['title']));
				list.appendChild(entry);
				console.log(result[item]['title'])
			})
	});
}
</script>
</body>

</html>