<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script type="text/javascript">
		var test = '2+244';
		var testArr = test.split(/([\+\-\*\/])/g);
		var tokens = [];
		var operators = ['+', '-', '*', '/'];

		function Token(kind, value) {
			this.kind = kind;
			this.value = value;
		}

		/*testArr.forEach(function(element){
			if(operators.indexOf(element) !== -1){
				tokens.push(new Token(element));
			} else {tokens.push(new Token(8,element));}
		})*/

		console.log(testArr)

		function expression (){
			var left = term();
			var token = getNextToken();
			console.log(token);

			
			while(true){
				console.log(token);
				switch (token){
					case '+': {
						left += term();
						//token = getNextToken();
						return left;
					}
					case '-': {
						var d = term();
						console.log('ajnsao');
						left -= d;
						//token = getNextToken();
						return left;
					}
					default: {
						return left;
					}
				}
			}
		} 



		function term(){
			var left = primary();
			var token = getNextToken();
			//console.log(left);
			console.log(token);	
			while(true){
				switch(token){
					case '*': {
						left *= primary();
						//token = getNextToken();
						return left;
					}
					case '/': {
						var d = primary();
						left /= d;
						//token = getNextToken();
						return left;
					}
					default: {
						return left;
					}
				}

			}
		}

function primary()
{
	var token = getNextToken();
	console.log(token);
	
	switch (true) {
		case '(' :  
		{ 
			//var d = expression();
			//var nextToken = getNextToken();
			return d;
		}
		case (parseInt(token) < Math.pow(10, 1000)) : {
			console.log('sa')
			return token
		}
		default: {
			break;
		}
	}
}

var counter = (function() {
	var privateCounter = 0;
	function changeBy(val) {
		privateCounter += val;
	}
	return {
		increment: function() {
			changeBy(1);
		},
		decrement: function() {
			changeBy(-1);
		},
		value: function() {
			return privateCounter;
		}
	}
})();

function getNextToken(){
  //if(counter.value < testArr.length){
  	console.log(counter.value());
  	var currentMemeber = counter.value();
  	counter.increment();
  	return testArr[currentMemeber];
 //} else {return null;}
}

console.log(expression())

</script>
</head>
<body>

</body>
</html>